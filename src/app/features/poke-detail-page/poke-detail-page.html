<div class="container mx-auto p-4">
  <!-- Loading state -->
  @if (pokemonDetail.isLoading()) {
  <div class="text-center py-8">
    <p class="text-lg text-gray-600">Cargando detalles del pokémon...</p>
  </div>
  }

  <!-- Error state -->
  @if (pokemonDetail.error()) {
  <div class="alert alert-error mb-4">
    <p>Error al cargar los detalles del pokémon. Intenta de nuevo.</p>
  </div>
  }

  <!-- Success state - Pokemon details -->
  @if (pokemonDetail.value(); as pokemon) {
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="lg:col-span-1">
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h2 class="card-title capitalize text-2xl">{{ pokemon.name }}</h2>
          <div class="flex flex-col items-center">
            <img [src]="pokemon.sprites.front_default" [width]="200" [height]="200" />
          </div>
          <div class="divider"></div>
          <div class="space-y-3">
            <div>
              <span class="text-sm font-semibold">Altura:</span>
              <p class="text-lg">{{ pokemon.height / 10 }} m</p>
            </div>
            <div>
              <span class="text-sm font-semibold">Peso:</span>
              <p class="text-lg">{{ pokemon.weight / 10 }} kg</p>
            </div>
            <div>
              <span class="text-sm font-semibold">ID:</span>
              <p class="text-lg">#{{ pokemon.id }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right column - Types, Stats, Abilities -->
    <div class="lg:col-span-2 space-y-6">
      <!-- Types -->
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4">Tipos</h3>
          <div class="flex flex-wrap gap-2">
            @for (type of pokemon.types; track type.type.name) {
            <span class="bg-amber-200 rounded-2xl text-gray-900 px-5">
              {{ type.type.name }}
            </span>
            }
          </div>
        </div>
      </div>

      <!-- Stats -->
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4">Estadísticas</h3>
          <div class="space-y-4">
            @for (stat of pokemon.stats; track stat.stat.name) {
            <div>
              <div class="flex justify-between mb-2">
                <span class="capitalize font-semibold">{{ stat.stat.name }}</span>
                <span class="text-sm font-bold">{{ stat.base_stat }}</span>
              </div>
              <progress
                class="progress progress-primary w-full"
                [value]="stat.base_stat"
                max="150"
              ></progress>
            </div>
            }
          </div>
        </div>
      </div>

      <!-- Abilities -->
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4">Habilidades</h3>
          <div class="space-y-2">
            @for (ability of pokemon.abilities; track ability.ability?.name) {
            <div class="flex items-center justify-between">
              <span class="bg-blue-600 rounded-2xl text-gray-200 px-5">{{
                ability.ability?.name
              }}</span>
            </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Back button -->
  <div class="mt-8">
    <a 
      routerLink="/home"
      [queryParams]="{ offset: paginationService.currentPage() }"
      class="btn btn-outline"
    >
      Volver a Pokémons
    </a>
  </div>
  }
</div>
